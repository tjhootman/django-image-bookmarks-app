{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Popular Movies | Movie Recommendation System{% endblock %}</title>
    <meta name="description" content="{% block description %}Explore the most popular movies with our Django-powered movie recommendation system. Powered by the TMDb API, discover personalized movie suggestions.{% endblock %}">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="header" class="bg-gray-800 text-white p-4 flex items-center justify-between shadow-lg">
        <span class="logo text-2xl font-bold text-blue-400"><a href="{% url "home"%}">Movies</a></span>
        {% if request.user.is_authenticated %}
            <ul class="menu flex space-x-6">
                <li {% if section == "dashboard" %}class="selected"{% endif %}>
                    <a href="{% url "dashboard" %}" class="hover:text-blue-300 transition duration-300 ease-in-out {% if section == "dashboard" %}text-blue-300 font-semibold{% endif %}">My dashboard</a>
                </li>
                <li {% if section == "movies" %}class="selected"{% endif %}>
                    <a href="#" class="hover:text-blue-300 transition duration-300 ease-in-out {% if section == "images" %}text-blue-300 font-semibold{% endif %}">Movies</a>
                </li>
                <li {% if section == "people" %}class="selected"{% endif %}>
                    <a href="#" class="hover:text-blue-300 transition duration-300 ease-in-out {% if section == "people" %}text-blue-300 font-semibold{% endif %}">People</a>
                </li>
            </ul>
        {% endif %}
        <span class="user flex items-center space-x-2">
            {% if request.user.is_authenticated %}
                <span class="text-gray-300">Hello {{ request.user.first_name }},</span>
                <form action="{% url 'logout' %}" method="post" class="inline"> 
                    {% csrf_token %}
                    <button type="submit" class="text-blue-400 hover:text-blue-300 transition duration-300 ease-in-out cursor-pointer bg-transparent border-none p-0 m-0">
                        Logout
                    </button>
                </form>
            {% else %}
                <a href="{% url "login" %}" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-md transition duration-300 ease-in-out">Log-in</a>
            {% endif %}
        </span>
    </div>
    {% if messages %}
        <ul class="messages">
            {% for message in messages %}
            <li class="{{ message.tags }}">
            {{ message|safe }}
            <a href="#" class="close">x</a>
            </li>
            {% endfor %}
        </ul>
    {% endif %}
    <div id="content">
    {% block content %}
    {% endblock %}
    </div>
    <footer class="bg-gray-300 p-4 text-center text-gray-700 flex items-center justify-center space-x-2">
        <p>&copy; 2025 Movie Recommendation System Powered By:</p>
        <a href="https://www.themoviedb.org/" target="_blank" rel="noopener noreferrer">
        <img src = "/static/images/tmdb_blue_short.svg" alt="TMDb Logo" class="h-6">
        </a>
    </footer>
</body>
</html>
